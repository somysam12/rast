// Get available keys grouped by mod (ONLY AVAILABLE KEYS)
try {
    $stmt = $pdo->query("SELECT lk.*, m.name as mod_name, 
                        COUNT(*) as total_keys,
                        SUM(CASE WHEN lk.status = 'available' THEN 1 ELSE 0 END) as available_keys,
                        SUM(CASE WHEN lk.status = 'sold' THEN 1 ELSE 0 END) as sold_keys,
                        MIN(lk.price) as min_price,
                        MAX(lk.price) as max_price
                        FROM license_keys lk 
                        LEFT JOIN mods m ON lk.mod_id = m.id 
                        WHERE lk.status = 'available'
                        GROUP BY lk.mod_id, m.name
                        ORDER BY m.name");
    $modStats = $stmt->fetchAll(PDO::FETCH_ASSOC);
} catch (Exception $e) {
    $modStats = [];
}
