âœ… ONE-TIME CLIPBOARD PERMISSION TRICK (REAL IMPLEMENTATION)
ğŸ”‘ CORE IDEA (IMPORTANT)

Clipboard permission is granted per site

First click â†’ browser asks permission

After that â†’ NO popup

Every next copy feels automatic

âš ï¸ Still technically click-based, but user never notices.

ğŸ§  WHERE TO ADD THIS

Add this to your key generation page
(example: user_generate.php)

âœ… STEP 1 â€“ Add this JS (GLOBAL, ONCE)
<script>
async function copyWithPermission(text) {
    try {
        await navigator.clipboard.writeText(text);
        return true;
    } catch (e) {
        alert("Please allow clipboard permission to continue.");
        return false;
    }
}
</script>

âœ… STEP 2 â€“ Permission Priming Button (ONE TIME ONLY)

Add this once per user (you can hide later using localStorage)

<button id="enableCopyBtn">Enable Auto Copy</button>

<script>
document.getElementById("enableCopyBtn").addEventListener("click", async () => {
    const granted = await copyWithPermission("Permission Granted");
    if (granted) {
        localStorage.setItem("clipboardAllowed", "yes");
        document.getElementById("enableCopyBtn").style.display = "none";
        alert("Auto copy enabled!");
    }
});
</script>


âœ” Browser shows permission popup only here
âœ” After allow â†’ permission saved

âœ… STEP 3 â€“ AUTO COPY AFTER GENERATE (FEELS MAGIC ğŸ”¥)
<script>
window.addEventListener("load", async () => {
    if (localStorage.getItem("clipboardAllowed") === "yes") {
        const key = "<?= $generated_key ?>";
        await navigator.clipboard.writeText(key);
    }
});
</script>


ğŸŸ¢ No popup
ğŸŸ¢ No error
ğŸŸ¢ Feels like real auto-copy

âœ… STEP 4 â€“ SAME FOR REFERRAL CODE
<script>
window.addEventListener("load", async () => {
    if (localStorage.getItem("clipboardAllowed") === "yes") {
        const ref = "<?= $referral_code ?>";
        await navigator.clipboard.writeText(ref);
    }
});
</script>

ğŸ”’ IMPORTANT RULES (DO NOT IGNORE)
Rule	Required
HTTPS	âœ… YES
User click once	âœ… YES
navigator.clipboard	âœ… YES
Auto on first visit	âŒ NO