class DarkModeManager{constructor(){this.init()}init(){this.createToggleButton(),this.loadSavedTheme(),this.setupEventListeners()}createToggleButton(){document.querySelector(".dark-mode-toggle")||(function(){const e=document.createElement("button");e.className="dark-mode-toggle",e.title="Toggle Dark Mode",e.innerHTML='<i class="fas fa-moon" id="darkModeIcon"><\/i>',e.onclick=()=>this.toggleDarkMode(),document.body.appendChild(e)}).call(this)}toggleDarkMode(){const e=document.body,t=document.getElementById("darkModeIcon");"dark"===e.getAttribute("data-theme")?(e.removeAttribute("data-theme"),t&&(t.className="fas fa-moon"),localStorage.setItem("theme","light"),this.dispatchThemeChange("light")):(e.setAttribute("data-theme","dark"),t&&(t.className="fas fa-sun"),localStorage.setItem("theme","dark"),this.dispatchThemeChange("dark"))}loadSavedTheme(){const e=localStorage.getItem("theme"),t=document.getElementById("darkModeIcon");"dark"===e&&(document.body.setAttribute("data-theme","dark"),t&&(t.className="fas fa-sun"))}dispatchThemeChange(e){const t=new CustomEvent("themeChanged",{detail:{theme:e}});document.dispatchEvent(t)}setupEventListeners(){window.matchMedia&&(e=window.matchMedia("(prefers-color-scheme: dark)")).addListener(()=>{localStorage.getItem("theme")||this.applySystemTheme()});var e}applySystemTheme(){const e=window.matchMedia("(prefers-color-scheme: dark)").matches,t=document.getElementById("darkModeIcon");e?(document.body.setAttribute("data-theme","dark"),t&&(t.className="fas fa-sun")):(document.body.removeAttribute("data-theme"),t&&(t.className="fas fa-moon"))}}class EnhancedUI{constructor(){this.init()}init(){this.setupFormEnhancements(),this.setupScrollAnimations()}setupFormEnhancements(){document.querySelectorAll(".form-control").forEach(e=>{this.setupFloatingLabel(e)}),document.querySelectorAll("input[required]").forEach(e=>{this.setupRealTimeValidation(e)})}setupFloatingLabel(e){const t=e.closest(".form-group")||e.parentElement;if(!t.querySelector(".floating-label")){const o=t.querySelector("label");if(o&&e.placeholder){o.classList.add("floating-label");const a=()=>{e.value||e===document.activeElement?(o.style.transform="translateY(-1.5rem) scale(0.8)",o.style.color="var(--primary-color, #667eea)"):(o.style.transform="",o.style.color="")};e.addEventListener("focus",a),e.addEventListener("blur",a),e.addEventListener("input",a),a()}}}setupRealTimeValidation(e){e.addEventListener("input",()=>{let t,o="";"email"===e.type?(t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value),o="Please enter a valid email address"):"password"===e.type?(t=e.value.length>=6,o="Password must be at least 6 characters"):e.required&&(t=e.value.trim().length>0,o="This field is required"),this.showValidation(e,t,o)})}showValidation(e,t,o){let a=e.parentElement.querySelector(".validation-feedback");a||(a=document.createElement("div"),a.className="validation-feedback",e.parentElement.appendChild(a)),t?(e.style.borderColor="var(--success-color, #51cf66)",a.style.color="var(--success-color, #51cf66)",a.textContent="âœ“ Valid"):(e.style.borderColor="var(--danger-color, #ff6b6b)",a.style.color="var(--danger-color, #ff6b6b)",a.textContent=o)}setupScrollAnimations(){new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1}).observe&&document.querySelectorAll(".fade-in, .card, .stats-card").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="all 0.6s ease",new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})},{threshold:.1}).observe(e)})}}document.addEventListener("DOMContentLoaded",()=>{new DarkModeManager,new EnhancedUI}),window.DarkModeManager=DarkModeManager,window.UI={showNotification:function(e,t="info"){const o=document.createElement("div");o.className="notification notification-"+t,o.innerHTML=`<div class="notification-content"><i class="fas fa-${"success"===t?"check":"error"===t?"exclamation-triangle":"info"}-circle"><\/i> <span>${e}<\/span> <button class="notification-close">&times;<\/button><\/div>`;const a=`position:fixed;top:20px;right:20px;background:${"success"===t?"#51cf66":"error"===t?"#ff6b6b":"#74c0fc"};color:#fff;padding:1rem;border-radius:.5rem;z-index:10000;transform:translateX(100%);transition:transform .3s ease;max-width:300px`;o.style.cssText=a,document.body.appendChild(o),setTimeout(()=>{o.style.transform="translateX(0)"},100),o.querySelector(".notification-close").addEventListener("click",()=>{o.style.transform="translateX(100%)",setTimeout(()=>o.remove(),300)}),setTimeout(()=>{o.style.transform="translateX(100%)",setTimeout(()=>o.remove(),300)},5e3)}};
